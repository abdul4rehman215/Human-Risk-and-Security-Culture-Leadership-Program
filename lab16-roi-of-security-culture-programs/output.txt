toor@ip-172-31-10-198:~$ mkdir -p ~/security_roi_lab/{data,scripts,reports,visualizations}
toor@ip-172-31-10-198:~$ cd ~/security_roi_lab

toor@ip-172-31-10-198:~/security_roi_lab$ python3 -m venv security_roi_env
toor@ip-172-31-10-198:~/security_roi_lab$ source security_roi_env/bin/activate

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ pip install pandas numpy matplotlib seaborn plotly
Collecting pandas
Collecting numpy
Collecting matplotlib
Collecting seaborn
Collecting plotly
...
Installing collected packages: numpy, pandas, matplotlib, seaborn, plotly, ...
Successfully installed matplotlib-3.9.2 numpy-2.1.3 pandas-2.2.3 plotly-5.24.1 seaborn-0.13.2 ...

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ pip install dash
Collecting dash
Collecting Flask<3.1,>=1.0.4
Collecting Werkzeug<3.1
Collecting dash-html-components==2.0.0
Collecting dash-core-components==2.0.0
Collecting dash-table==5.0.0
...
Successfully installed dash-2.18.2 dash-core-components-2.0.0 dash-html-components-2.0.0 dash-table-5.0.0 ...

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ export MPLBACKEND=Agg
(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ echo $MPLBACKEND
Agg

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ ls -la
total 24
drwxr-xr-x  7 toor toor 4096 Feb 20 12:40 .
drwxr-xr-x 28 toor toor 4096 Feb 20 11:10 ..
drwxr-xr-x  2 toor toor 4096 Feb 20 12:40 data
drwxr-xr-x  2 toor toor 4096 Feb 20 12:40 reports
drwxr-xr-x  2 toor toor 4096 Feb 20 12:40 scripts
drwxr-xr-x  2 toor toor 4096 Feb 20 12:40 visualizations
drwxr-xr-x  5 toor toor 4096 Feb 20 12:41 security_roi_env

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ nano scripts/data_generator.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ chmod +x scripts/data_generator.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ cd ~/security_roi_lab/scripts
(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ python3 data_generator.py
Saved generated data to: /home/toor/security_roi_lab/data/security_metrics.csv

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ ls -lh ../data/security_metrics.csv
-rw-r--r-- 1 toor toor 4.9K Feb 20 12:45 ../data/security_metrics.csv

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ head -n 5 ../data/security_metrics.csv
month,phishing_success_rate,security_incidents,compliance_rate,program_cost,incident_cost,baseline_incident_cost,incident_savings,productivity_gain,compliance_savings,total_benefits
2024-03-01,0.1530,8,0.7004,52019.67,200000,200000,0.00,3915.55,2313.22,6228.77
2024-04-01,0.1445,8,0.7132,27921.83,200000,200000,0.00,4607.12,2659.90,7267.02
2024-05-01,0.1380,7,0.7265,24960.20,175000,200000,25000.00,5246.77,3108.18,33354.95
2024-06-01,0.1321,7,0.7367,23014.91,175000,200000,25000.00,5571.06,3452.21,34023.27

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ nano roi_calculator.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ chmod +x roi_calculator.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ python3 roi_calculator.py

======================================================================
SECURITY CULTURE PROGRAM ROI SUMMARY
======================================================================
total_investment: 372418.61
total_benefits: 1012846.73
total_net_benefits: 640428.12
final_cumulative_roi_pct: 171.98
months_to_payback: 9
payback_date: 2024-11-01
average_monthly_roi_pct: 188.47
best_monthly_roi_pct: 422.61
worst_monthly_roi_pct: -88.02
period_months: 24
Exported detailed ROI results to: /home/toor/security_roi_lab/reports/roi_detailed_results.csv
Exported ROI summary to: /home/toor/security_roi_lab/reports/roi_summary.json

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ ls -lh ../reports/
total 20K
-rw-r--r-- 1 toor toor 12K Feb 20 12:52 roi_detailed_results.csv
-rw-r--r-- 1 toor toor  435 Feb 20 12:52 roi_summary.json

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ cat ../reports/roi_summary.json
{
  "total_investment": 372418.61,
  "total_benefits": 1012846.73,
  "total_net_benefits": 640428.12,
  "final_cumulative_roi_pct": 171.98,
  "months_to_payback": 9,
  "payback_date": "2024-11-01",
  "average_monthly_roi_pct": 188.47,
  "best_monthly_roi_pct": 422.61,
  "worst_monthly_roi_pct": -88.02,
  "period_months": 24
}

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ nano visualization.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ chmod +x visualization.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ python3 visualization.py
Saved ROI trend chart: /home/toor/security_roi_lab/visualizations/roi_trend_chart.png
Saved cost-benefit analysis chart: /home/toor/security_roi_lab/visualizations/cost_benefit_analysis.png
Saved security metrics dashboard: /home/toor/security_roi_lab/visualizations/security_metrics_dashboard.png
Saved executive summary chart: /home/toor/security_roi_lab/visualizations/executive_summary.png

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ ls -lh ../visualizations/
total 1.6M
-rw-r--r-- 1 toor toor 420K Feb 20 12:57 cost_benefit_analysis.png
-rw-r--r-- 1 toor toor 360K Feb 20 12:57 executive_summary.png
-rw-r--r-- 1 toor toor 340K Feb 20 12:57 roi_trend_chart.png
-rw-r--r-- 1 toor toor 470K Feb 20 12:57 security_metrics_dashboard.png

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ nano interactive_dashboard.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ chmod +x interactive_dashboard.py

(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab/scripts$ python3 interactive_dashboard.py
Dash is running on http://0.0.0.0:8050/

 * Serving Flask app 'interactive_dashboard'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8050
 * Running on http://172.31.10.198:8050
Press CTRL+C to quit
 * Restarting with stat

If charts fail on headless server
(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ export MPLBACKEND=Agg

If dashboard wonâ€™t start (port check)
(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ sudo netstat -tuln | grep 8050

Verify dash/plotly installed
(security_roi_env) toor@ip-172-31-10-198:~/security_roi_lab$ pip list | grep -E "dash|plotly"
